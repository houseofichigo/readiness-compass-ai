import{j as e}from"./ui-TC4ngNOa.js";import{r as u}from"./vendor-DXsvu-ZH.js";import{A as y,a5 as h,d as C,a6 as A,a as j,e as i,f as n,g as d,c as r,h as o,T as _,i as p,P as E,S as T,Q as D,a7 as S}from"./assessment-BoZN5DJv.js";import{b as k}from"./admin-CIYP8gkN.js";function I(){const{analytics:t,submissions:c,isLoading:v}=k(),[b,f]=u.useState(0);if(u.useEffect(()=>{const s=setInterval(()=>{f(a=>a+Math.floor(Math.random()*3))},5e3);return()=>clearInterval(s)},[]),v)return e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"animate-pulse space-y-4",children:[e.jsx("div",{className:"h-8 bg-muted rounded w-1/3"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[...Array(4)].map((s,a)=>e.jsx("div",{className:"h-32 bg-muted rounded"},a))})]})});const m=(t==null?void 0:t.today_submissions)||0,x=m>0?(((t==null?void 0:t.today_submissions)||0)/m*100-100).toFixed(1):"0",g=(t==null?void 0:t.week_submissions)||0,l=c.filter(s=>s.completed&&s.organization_name).slice(0,1)[0],N=[{title:"Live Activity",value:b,description:"Active sessions",icon:y,trend:null,color:"text-green-600",bgColor:"bg-green-50 dark:bg-green-950",indicator:e.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"})},{title:"Today's Impact",value:(t==null?void 0:t.today_submissions)||0,description:`${x}% vs yesterday`,icon:h,trend:parseFloat(x)>=0?"up":"down",color:"text-blue-600",bgColor:"bg-blue-50 dark:bg-blue-950"},{title:"Weekly Growth",value:g,description:"submissions this week",icon:C,trend:g>0?"up":null,color:"text-purple-600",bgColor:"bg-purple-50 dark:bg-purple-950"},{title:"Top Performer",value:(l==null?void 0:l.organization_name)||"No data",description:l?"Latest completion":"awaiting data",icon:A,trend:null,color:"text-yellow-600",bgColor:"bg-yellow-50 dark:bg-yellow-950",badge:l&&e.jsx(j,{className:"ml-auto",children:"â˜…"})}],w=[{label:"Completion Rate",value:(t==null?void 0:t.completion_rate)||0,target:85,unit:"%"},{label:"Client Growth",value:(t==null?void 0:t.active_organizations)||0,target:50,unit:""},{label:"Engagement Score",value:87,target:90,unit:"%"},{label:"Data Quality",value:94,target:95,unit:"%"}];return e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"bg-gradient-to-r from-purple-600 via-blue-600 to-indigo-600 rounded-lg p-6 text-white",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Executive Dashboard"}),e.jsx("p",{className:"text-purple-100",children:"Real-time insights and business intelligence"})]}),e.jsx(j,{className:"bg-white/20 text-white",children:"Enterprise"})]})}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:N.map((s,a)=>e.jsxs(i,{className:"relative overflow-hidden",children:[e.jsx(n,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(d,{className:"text-sm font-medium text-muted-foreground",children:s.title}),e.jsx("div",{className:r("p-2 rounded-lg",s.bgColor),children:e.jsx(s.icon,{className:r("h-4 w-4",s.color)})})]})}),e.jsx(o,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-2xl font-bold",children:typeof s.value=="string"?s.value.length>15?`${s.value.substring(0,15)}...`:s.value:s.value.toLocaleString()}),e.jsxs("div",{className:"flex items-center text-sm text-muted-foreground mt-1",children:[s.trend==="up"&&e.jsx(h,{className:"w-3 h-3 text-green-500 mr-1"}),s.trend==="down"&&e.jsx(_,{className:"w-3 h-3 text-red-500 mr-1"}),s.description]})]}),e.jsxs("div",{className:"flex items-center",children:[s.indicator,s.badge]})]})})]},a))}),e.jsxs(i,{children:[e.jsxs(n,{children:[e.jsx(d,{children:"Key Performance Indicators"}),e.jsx(p,{children:"Track progress against business targets"})]}),e.jsx(o,{children:e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:w.map((s,a)=>e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm font-medium",children:s.label}),e.jsxs("span",{className:"text-sm text-muted-foreground",children:[s.value,s.unit," / ",s.target,s.unit]})]}),e.jsx(E,{value:s.value/s.target*100,className:"h-2"}),e.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground",children:[e.jsx("span",{children:"Current"}),e.jsx("span",{children:"Target"})]})]},a))})})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(i,{children:[e.jsx(n,{children:e.jsxs(d,{className:"flex items-center",children:[e.jsx(T,{className:"mr-2 h-5 w-5"}),"Security Status"]})}),e.jsx(o,{children:e.jsx("div",{className:"space-y-3",children:[{label:"Data Encryption",status:"Active",color:"text-green-600"},{label:"GDPR Compliance",status:"Compliant",color:"text-green-600"},{label:"Audit Logging",status:"Enabled",color:"text-green-600"},{label:"Access Control",status:"Protected",color:"text-green-600"}].map((s,a)=>e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm",children:s.label}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(D,{className:r("h-4 w-4 mr-1",s.color)}),e.jsx("span",{className:r("text-sm font-medium",s.color),children:s.status})]})]},a))})})]}),e.jsxs(i,{children:[e.jsxs(n,{children:[e.jsx(d,{children:"Top Organizations"}),e.jsx(p,{children:"Leading assessment completions"})]}),e.jsx(o,{children:e.jsxs("div",{className:"space-y-3",children:[c.filter(s=>s.completed&&s.organization_name).slice(0,5).map((s,a)=>e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:r("w-6 h-6 rounded-full flex items-center justify-center text-xs font-medium mr-3",a===0?"bg-yellow-100 text-yellow-800":a===1?"bg-gray-100 text-gray-800":a===2?"bg-orange-100 text-orange-800":"bg-muted text-muted-foreground"),children:a+1}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium",children:s.organization_name}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[s.track," track"]})]})]}),a===0&&e.jsx(S,{className:"h-4 w-4 text-yellow-500"})]},s.id)),c.filter(s=>s.completed&&s.organization_name).length===0&&e.jsx("p",{className:"text-sm text-muted-foreground text-center py-4",children:"No completed assessments yet"})]})})]})]})]})}export{I as ExecutiveDashboard};
